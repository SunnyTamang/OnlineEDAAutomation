<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Online EDA Automation</title>

    <!-- Bootstrap CSS CDN -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">
    <!-- Our Custom CSS -->
    <link rel="stylesheet" href="static/css/style.css">

    <!-- Font Awesome JS -->
    <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/solid.js" integrity="sha384-tzzSw1/Vo+0N5UhStP3bvwWPq+uvzCMfrN1fEFe+xBmv1C/AtVX5K0uZtmcHitFZ" crossorigin="anonymous"></script>
    <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/fontawesome.js" integrity="sha384-6OIrr52G08NpOFSZdxxz1xdNSndlD4vdcf/q2myIUVO0VsqaGHJsB0RaBE01VTOY" crossorigin="anonymous"></script>
</head>

<body>
    <div class="wrapper">
        <!-- Sidebar  -->
        <nav id="sidebar">
            <div class="sidebar-header">
                <h3>Online EDA Automation</h3>
            </div>

            <ul class="list-unstyled components">
                
                <li class="active" style="padding-top: 37px;border-bottom: 1px solid #47748b;">
                    <a href="{{ url_for('application.overview' )}}">Overview</a>
                    
                </li>
                <li class="active" style="padding-top: 37px;border-bottom: 1px solid #47748b;">
                    <a href="{{ url_for('application.column_wise_details' )}}">Column Wise Details</a>
                    
                </li>

                <li class="active" style="padding-top: 37px;border-bottom: 1px solid #47748b;">
                  <a href="{{ url_for('application.correlation' )}}">Correlations</a>
                  
                </li>
                <li class="active" style="padding-top: 37px;border-bottom: 1px solid #47748b;">
                  <a href="{{ url_for('application.missing_values' )}}">Missing Values</a>
                  
                </li>
                <li class="active" style="padding-top: 37px;border-bottom: 1px solid #47748b;">
                  <a href="{{ url_for('application.dataset' )}}">Dataset</a>
                  
                </li>
                
            </ul>

            <!-- <ul class="list-unstyled components">
                <li class="active">
                    <a href="">Dashboard</a>
                    
                </li>
            </ul> -->
        </nav>

        <!-- Page Content  -->
        <div id="content">

            <nav class="navbar navbar-expand-lg navbar-light bg-light">
                <div class="container-fluid">

                    <!-- <button type="button" id="sidebarCollapse" class="btn btn-info">
                        <i class="fas fa-align-left"></i>
                        <span>Toggle Sidebar</span>
                    </button> -->
                    <button class="btn btn-dark d-inline-block d-lg-none ml-auto" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                        <i class="fas fa-align-justify"></i>
                    </button>

                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="nav navbar-nav ml-auto">
                            <li class="nav-item">
                                <a class="nav-link" href="{{ url_for('users.new_project') }}">Upload new dataset</a>
                            </li>
                            <li class="nav-item">
                              <a class="nav-link" href="#customizeModal" data-toggle="modal" ><i class="fa fa-plus" aria-hidden="true"></i> Customize</a>
                            </li>
                            <li class="nav-item">
                              <a class="nav-link" href="#customizeModal" data-toggle="modal" id="uncustomize"><i class="fa fa-minus" aria-hidden="true"></i> Uncustomize</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="{{ url_for('application.about_us')}}">About</a>
                            </li>
                            <!-- <li class="nav-item">
                                <a class="nav-link" href="#">Page</a>
                            </li> -->
                        </ul>
                    </div>
                </div>
            </nav>


            <!-- modal starts -->

            <div class="modal fade" id="customizeModal" tabindex="-1" role="dialog" aria-labelledby="customizeModalLabel" aria-hidden="true">
              <div class="modal-dialog modal-lg"" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="customizeModalLabel">Customize</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">
                    <form action="{{ url_for('application.overview_post_customization') }}" method="POST">
                      <div class="container">
                        <div class="row">
                            <div class="col-lg-12">
                                <ul class="list-group">
                                    <li class="list-group-item">Overview
                                        <ul class="list-group inner">
                                          <li class="list-group-item">
                                            <div class="form-check">
                                              <label class="form-check-label">
                                                <input type="checkbox" class="form-check-input" value="" id="overview-find-dup-rows" class="overview-find-dup-rows">Find duplicate rows
                                              </label>
                                            </div>
                                          </li>
                                        </ul>
                                        <ul class="list-group inner">
                                          <li class="list-group-item">
                                            <div class="form-check">
                                              <label class="form-check-label">
                                                <input type="checkbox" class="form-check-input" value="" id="overview-find-dup-cols" class="overview-find-dup-cols">Find duplicate columns
                                              </label>
                                            </div>
                                          </li>
                                        </ul>
                                        <ul class="list-group inner">
                                          <li class="list-group-item">
                                            <div class="form-check">
                                              <label class="form-check-label">
                                                <input type="checkbox" class="form-check-input" value="" id="overview-find-dtype-cols-details" class="overview-find-dtype-cols-details">Datatype wise column details
                                              </label>
                                            </div>
                                          </li>
                                        </ul>
                                    </li>
                                    <li class="list-group-item">Column Wise Details
                                      <ul class="list-group inner">
                                        <li class="list-group-item">
                                          <div class="form-check">
                                            <label class="form-check-label">
                                              <input type="checkbox" class="form-check-input" id="column-wise-advance-stats" value="">Quartile details and advance descrptive stats
                                            </label>
                                          </div>
                                        </li>
                                      </ul>
                                    </li>
                                    <li class="list-group-item">Correlations
                                      <ul class="list-group inner">
                                        <li class="list-group-item">
                                          <div class="form-check">
                                            <label class="form-check-label">
                                              <input type="checkbox" class="form-check-input" value="">Interaction between columns
                                            </label>
                                          </div>
                                        </li>
                                      </ul>
                                    </li>
                                    <li class="list-group-item">Visualization
                                      <ul class="list-group inner">
                                        <li class="list-group-item">Dynamic Graph/Charts
                                          <ul class="list-group inner">
                                            <li class="list-group-item">Univariate
                                              <ul class="list-group inner">
                                                <li class="list-group-item">Categorical
                                                  <ul class="list-group inner">
                                                    <li class="list-group-item">
                                                      <div class="form-check">
                                                        <label class="form-check-label">
                                                          <input type="checkbox" class="form-check-input" value="">Count plot
                                                        </label>
                                                      </div>
                                                    </li>
                                                  </ul>
                                                  <ul class="list-group inner">
                                                    <li class="list-group-item">
                                                      <div class="form-check">
                                                        <label class="form-check-label">
                                                          <input type="checkbox" class="form-check-input" value="">Pie chart
                                                        </label>
                                                      </div>
                                                    </li>
                                                  </ul>
                                                </li>
                                                
                                                <li class="list-group-item">Numerical
                                                  <ul class="list-group inner">
                                                    <li class="list-group-item">
                                                      <div class="form-check">
                                                        <label class="form-check-label">
                                                          <input type="checkbox" class="form-check-input" value="">Histogram
                                                        </label>
                                                      </div>
                                                    </li>
                                                  </ul>
                                                  <ul class="list-group inner">
                                                    <li class="list-group-item">
                                                      <div class="form-check">
                                                        <label class="form-check-label">
                                                          <input type="checkbox" class="form-check-input" value="">Dist plot
                                                        </label>
                                                      </div>
                                                    </li>
                                                  </ul>
                                                  <ul class="list-group inner">
                                                    <li class="list-group-item">
                                                      <div class="form-check">
                                                        <label class="form-check-label">
                                                          <input type="checkbox" class="form-check-input" value="">Box plot
                                                        </label>
                                                      </div>
                                                    </li>
                                                  </ul>
                                                </li>
          
                                                
          
                                              </ul>
          
                                            </li>
          
                                            <li class="list-group-item">Multivariate                                      
                                                  <ul class="list-group inner">
                                                    <li class="list-group-item">
                                                      <div class="form-check">
                                                        <label class="form-check-label">
                                                          <input type="checkbox" class="form-check-input" value="">Scatter plot
                                                        </label>
                                                      </div>
                                                    </li>
                                                  </ul>
                                                  <ul class="list-group inner">
                                                    <li class="list-group-item">
                                                      <div class="form-check">
                                                        <label class="form-check-label">
                                                          <input type="checkbox" class="form-check-input" value="">Box chart
                                                        </label>
                                                      </div>
                                                    </li>
                                                  </ul>
                                                
                                                  <ul class="list-group inner">
                                                    <li class="list-group-item">
                                                      <div class="form-check">
                                                        <label class="form-check-label">
                                                          <input type="checkbox" class="form-check-input" value="">Bar chart
                                                        </label>
                                                      </div>
                                                    </li>
                                                  </ul>
                                                
                                                  <ul class="list-group inner">
                                                    <li class="list-group-item">
                                                      <div class="form-check">
                                                        <label class="form-check-label">
                                                          <input type="checkbox" class="form-check-input" value="">Dist chart
                                                        </label>
                                                      </div>
                                                    </li>
                                                  </ul>
                                                
                                                  <ul class="list-group inner">
                                                    <li class="list-group-item">
                                                      <div class="form-check">
                                                        <label class="form-check-label">
                                                          <input type="checkbox" class="form-check-input" value="">Heat map
                                                        </label>
                                                      </div>
                                                    </li>
                                                  </ul>
                                             
          
                                            </li>
                                          </ul>
                                        </li> 
                                      </ul>
                                    </li>
                                    <!-- <li class="list-group-item">Correlations
                                      <ul class="list-group inner">
                                        <li class="list-group-item">
                                          <div class="form-check">
                                            <label class="form-check-label">
                                              <input type="checkbox" class="form-check-input" value="">Interaction between columns
                                            </label>
                                          </div>
                                        </li>
                                      </ul>
                                    </li> -->
                                </ul>
                            </div>
                        </div>
                    </div>
                  </form>
                    
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button id="customBtn" type="button" class="btn btn-primary">Save changes</button>
                  </div>
                
                </div>
              </div>
            </div>

            <!-- modal ends -->

            <!-- Tab Navs starts -->
<!-- Tabs navs -->
<ul class="nav nav-tabs nav-justified mb-3" id="ex1" role="tablist">
    <li class="nav-item" role="presentation">
      <a
        class="nav-link active"
        id="ex3-tab-1"
        data-mdb-toggle="tab"
        href="#ex3-tabs-1"
        role="tab"
        aria-controls="ex3-tabs-1"
        aria-selected="true"
        >Column Wise Count</a
      >
    </li>
    <li class="nav-item" role="presentation">
      <a
        class="nav-link"
        id="ex3-tab-2"
        data-mdb-toggle="tab"
        href="#ex3-tabs-2"
        role="tab"
        aria-controls="ex3-tabs-2"
        aria-selected="false"
        >Basic Descriptive Analysis</a
      >
    </li>
    
  </ul>
  <!-- Tabs navs -->
  
  <!-- Tabs content -->
  <div class="tab-content" id="ex2-content">
    <div
      class="tab-pane fade show active"
      id="ex3-tabs-1"
      role="tabpanel"
      aria-labelledby="ex3-tab-1"
    >
      
      <div class="container" style="text-align: center;">
        <h2>Column Wise Count</h2>
        <table class="table table-bordered table-primary" style="text-align: center;">
          <thead>
            <tr>
              <th>Column Name</th>
              <th>Column Count</th>
            </tr>
          </thead>
          <tbody>
            {% for key,values in zip(count_check.keys(), count_check.values()) %}  
            <tr class="table-secondary">
              <td>{{ key }}</td>
              <td>{{ values }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>




    </div>
    <div
      class="tab-pane fade"
      id="ex3-tabs-2"
      role="tabpanel"
      aria-labelledby="ex3-tab-2"
    >
      
      <div class="container" style="text-align: center;">
        <h2>Basic Descriptive Analysis</h2>            
        <table class="table table-bordered table-primary" style="text-align: center;">
          <thead>
            <tr>
              <th>Descriptive Token</th>
              {% for col in desc_columns %}
              <th>{{ col }}</th>
              {% endfor %}
            </tr>
          </thead>
          <tbody>
           {% for key, value in describe.iterrows() %}
           <tr class="table-secondary">
            <td>{{ key }}</td>
            {% for col in desc_columns %}
            <td>{{ value[col] }}</td>
            {% endfor %}
            <!-- <td></td>     -->
          </tr>

           {% endfor %}
            
           

          </tbody>

          
          
        </table>
      </div>



    </div>
    
  </div>
  <!-- Tabs content -->

            <!-- Tab Navs ends -->
              
        <!-- Custom Page starts here        -->
            {% if (isCustom=='true') and (customConfig['column_wise_advance_stats']=='true')%}
            <h1 style="margin: 20px;text-align:center;background: grey;color: white;">You custom analysis</h1>
            {% endif %}
            {% for k,v in customConfig.items(): %}
              {% if k == 'column_wise_advance_stats' and v=='true': %}
            <ul class="nav nav-tabs nav-justified mb-3" id="ex1" role="tablist">
              <li class="nav-item" role="presentation">
                <a
                  class="nav-link active"
                  id="ex3-tab-3"
                  data-mdb-toggle="tab"
                  href="#ex3-tabs-3"
                  role="tab"
                  aria-controls="ex3-tabs-3"
                  aria-selected="true"
                  >Quantative Statistics</a
                >
              </li>
              <li class="nav-item" role="presentation">
                <a
                  class="nav-link"
                  id="ex3-tab-4"
                  data-mdb-toggle="tab"
                  href="#ex3-tabs-4"
                  role="tab"
                  aria-controls="ex3-tabs-4"
                  aria-selected="false"
                  >Descriptive Statistics</a
                >
              </li>
              
            </ul>
            
            <!-- Tabs navs -->
            
            <!-- Tabs content -->
            <div class="tab-content" id="ex3-content">
              <div
                class="tab-pane fade show active"
                id="ex3-tabs-3"
                role="tabpanel"
                aria-labelledby="ex3-tab-3"
              >
                
              
                <!-- <div class="row spacing">
                  <a class="anchor-pos anchor-pos-variable" id="pp_var_-27798077419788484"></a> -->
                  
                  <div class="container-fluid" style="padding-top: 30px;">
                  <div class="row">
                    <div class="col-sm-3">
                      <p class="h4" title="Item_Identifier"><a href="#pp_var_-27798077419788484">Item_Identifier</a>
                        <br><small>Categorical</small></p><code>HIGH CARDINALITY</code>
                      <br><code>UNIFORM</code>
                      <br>
                      <p class="variable-description"></p>
                    </div>
                    <div class="col-sm-3">
                      <table class="table table-condensed stats">
                        <tbody>
                          <tr class="alert">
                            <th>Distinct</th>
                            <td>1559</td>
                          </tr>
                          <tr>
                            <th>Distinct (%)</th>
                            <td>18.3%</td>
                          </tr>
                          <tr>
                            <th>Missing</th>
                            <td>0</td>
                          </tr>
                          <tr>
                            <th>Missing (%)</th>
                            <td>0.0%</td>
                          </tr>
                          <tr>
                            <th>Memory size</th>
                            <td>66.7 KiB</td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                    <div class="col-sm-6">
                      <div class="col-sm- collapse in" id="minifreqtable">
                        <table class="mini freq">
                          <tbody>
                            <tr class="">
                              <th width="50%"> FDW13 </th>
                              <td width="50%">
                                <div class="bar" style="width:0.1%" data-toggle="tooltip" data-placement="right" data-html="true" data-delay="500" data-original-title="" title=""> &nbsp; </div> 10 </td>
                            </tr>
                            <tr class="">
                              <th width="50%"> FDG33 </th>
                              <td width="50%">
                                <div class="bar" style="width:0.1%" data-toggle="tooltip" data-placement="right" data-html="true" data-delay="500" data-original-title="" title=""> &nbsp; </div> 10 </td>
                            </tr>
                            <tr class="">
                              <th width="50%"> NCY18 </th>
                              <td width="50%">
                                <div class="bar" style="width:0.1%" data-toggle="tooltip" data-placement="right" data-html="true" data-delay="500" data-original-title="" title=""> &nbsp; </div> 9 </td>
                            </tr>
                            <tr class="">
                              <th width="50%"> FDD38 </th>
                              <td width="50%">
                                <div class="bar" style="width:0.1%" data-toggle="tooltip" data-placement="right" data-html="true" data-delay="500" data-original-title="" title=""> &nbsp; </div> 9 </td>
                            </tr>
                            <tr class="">
                              <th width="50%"> DRE49 </th>
                              <td width="50%">
                                <div class="bar" style="width:0.1%" data-toggle="tooltip" data-placement="right" data-html="true" data-delay="500" data-original-title="" title=""> &nbsp; </div> 9 </td>
                            </tr>
                            <tr class="other">
                              <th width="50%"> Other values (1554) </th>
                              <td width="50%">
                                <div class="bar" style="width:100.0%" data-toggle="tooltip" data-placement="right" data-html="true" data-delay="500" data-original-title="" title=""> 8476&nbsp; </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </div>
                  </div>
                  </div>
                  

          
          
          
              </div>
              <div
                class="tab-pane fade"
                id="ex3-tabs-4"
                role="tabpanel"
                aria-labelledby="ex3-tab-4"
              >
                
                <div class="container" style="text-align: center;">
                  <h2>Basic Descriptive Analysis</h2>            
                  <table class="table table-bordered table-primary" style="text-align: center;">
                    <thead>
                      <tr>
                        <th>Descriptive Token</th>
                        {% for col in desc_columns %}
                        <th>{{ col }}</th>
                        {% endfor %}
                      </tr>
                    </thead>
                    <tbody>
                     {% for key, value in describe.iterrows() %}
                     <tr class="table-secondary">
                      <td>{{ key }}</td>
                      {% for col in desc_columns %}
                      <td>{{ value[col] }}</td>
                      {% endfor %}
                      <!-- <td></td>     -->
                    </tr>
          
                     {% endfor %}
                      
                     
          
                    </tbody>
          
                    
                    
                  </table>
                </div>
          
          
          
              </div>
              
            </div>
            {% endif %}
        {% endfor %}
            <!-- Custom page ends here -->
    </div>
    
    <!-- jQuery CDN - Slim version (=without AJAX) -->
    <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
    <!-- Popper.JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script>
    <!-- Bootstrap JS -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script>

    <script type="text/javascript">
        $(document).ready(function () {
            $('#sidebarCollapse').on('click', function () {
                $('#sidebar').toggleClass('active');
            });
        });
    </script>

<script>
    $(document).ready(function(){
        $("#ex1 a").click(function(e){
            e.preventDefault();
            $(this).tab("show");
        });
    });
    </script>

<script>
  $(document).ready(function(){
        var overview_find_dup_rows = $("#overview-find-dup-rows").is(":checked");
        var overview_find_dup_cols = $("#overview-find-dup-cols").is(":checked");
        var overview_find_dtype_cols_details = $("#overview-find-dtype-cols-details").is(":checked");
        var column_wise_advance_stats = $("#column-wise-advance-stats").is(":checked");
        console.log('This is something' ,$("#overview-find-dtype-cols-details").is(":checked"));

    if((overview_find_dup_rows == false && overview_find_dup_cols == false  && overview_find_dtype_cols_details == false)){
                $.ajax({
              // url:"{{ url_for('application.overview_post_customization') }}",
              url:"/column-wise-details",
              type:"GET",
              data:{'overview_find_dup_rows':overview_find_dup_rows,
                    'overview_find_dup_cols': overview_find_dup_cols,
                    'overview_find_dtype_cols_details': overview_find_dtype_cols_details,
                    'column_wise_advance_stats':column_wise_advance_stats,
                    'customize':false
                    },
              success:function(data){
                // alert(data);
                // $("#customizeModal").hide();
                // $("#customizeModal").unload();
                
                // window.location.href = "overview";
              }
            // alert( "Modal submitted with text: ");
            });
        }
    $('#customBtn').click(function(){
        var overview_find_dup_rows = $("#overview-find-dup-rows").is(":checked");
        var overview_find_dup_cols = $("#overview-find-dup-cols").is(":checked");
        var overview_find_dtype_cols_details = $("#overview-find-dtype-cols-details").is(":checked");
        var column_wise_advance_stats = $("#column-wise-advance-stats").is(":checked");
        console.log($("#overview-find-dtype-cols-details").is(":checked"));
        if(overview_find_dup_rows == true){
          var data = document.getElementById("overview-find-dup-rows").innerHTML
        }
        if((overview_find_dup_rows == false && overview_find_dup_cols == false  && overview_find_dtype_cols_details == false && column_wise_advance_stats == false)){
                $.ajax({
              // url:"{{ url_for('application.overview_post_customization') }}",
              url:"column-wise-details",
              type:"POST",
              data:{'overview_find_dup_rows':overview_find_dup_rows,
                    'overview_find_dup_cols': overview_find_dup_cols,
                    'overview_find_dtype_cols_details': overview_find_dtype_cols_details,
                    'column_wise_advance_stats':column_wise_advance_stats,
                    'customize':false
                    },
              success:function(data){
                // alert(data);
                $("#customizeModal").hide();
                // $("#customizeModal").unload();
                
                  // console.log($(this))
                  
                window.location.href = "column-wise-details";
              }
            // alert( "Modal submitted with text: ");
            });
        }
        else if((overview_find_dup_rows == true || overview_find_dup_cols == true  || overview_find_dtype_cols_details == true || column_wise_advance_stats == true)){
        $.ajax({
        // url:"{{ url_for('application.overview_post_customization') }}",
        url:"column-wise-details",
        type:"POST",
        data:{'overview_find_dup_rows':overview_find_dup_rows,
               'overview_find_dup_cols': overview_find_dup_cols,
               'overview_find_dtype_cols_details': overview_find_dtype_cols_details,
               'column_wise_advance_stats':column_wise_advance_stats,
               'customize':true
              },
        success:function(data){
          // alert(data);
          $("#customizeModal").hide();
          // $("#customizeModal").unload();
          
          window.location.href = "column-wise-details";
        }
      // alert( "Modal submitted with text: ");
      });
    }
      
    });

    $('#uncustomize').click(function(){
      $.ajax({
        // url:"{{ url_for('application.overview_post_customization') }}",
        url:"/column-wise-details",
        type:"POST",
        data:{
               'customize':false
              },
        success:function(data){
          // alert(data);
          
          // $("#customizeModal").unload();
          window.location.href = "column-wise-details";
        }
      // alert( "Modal submitted with text: ");
      });
    });
  });
</script>

</body>

</html>